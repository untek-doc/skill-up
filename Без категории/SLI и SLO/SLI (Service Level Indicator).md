**SLI (Service Level Indicator)** — это показатель уровня качества услуги, который измеряет, насколько эффективно система или сервис выполняют свою функцию с точки зрения клиента. SLI отражает ключевые метрики производительности или доступности системы, такие как скорость ответа, процент успешных запросов или время безотказной работы.

SLI является одной из основных концепций в области управления надежностью (Site Reliability Engineering, SRE) и часто используется вместе с такими понятиями, как **SLO** (Service Level Objective) и **SLA** (Service Level Agreement).

---

### **Примеры SLI**

1. **Доступность (Availability)**:
    
    - Процент времени, когда система была доступна для пользователей.
    - Например, _"99.9% доступности в месяц."_
2. **Время ответа (Latency)**:
    
    - Среднее или 95-й процентиль времени ответа на запрос.
    - Например, _"Время ответа API — 200 мс для 95% запросов."_
3. **Процент успешных запросов (Success Rate)**:
    
    - Процент запросов, которые завершились без ошибок.
    - Например, _"99.5% запросов завершены с кодом HTTP 2xx или 3xx."_
4. **Производительность (Throughput)**:
    
    - Количество запросов, обработанных системой за единицу времени.
    - Например, _"1000 запросов в секунду."_
5. **Частота ошибок (Error Rate)**:
    
    - Процент запросов, завершившихся с ошибками.
    - Например, _"Менее 0.1% запросов завершаются с ошибками HTTP 5xx."_
6. **Время восстановления (Time to Recovery)**:
    
    - Среднее время, необходимое для восстановления сервиса после сбоя.
    - Например, _"Среднее время восстановления — не более 15 минут."_

---

### **Как SLI используется в SRE?**

1. **Определение целевых показателей (SLO)**:
    
    - На основе SLI формулируются **SLO (Service Level Objectives)** — конкретные цели, которые должны быть достигнуты.
    - Пример: _"SLO для доступности — 99.95% за месяц."_
2. **Мониторинг и оповещения**:
    
    - Метрики SLI измеряются и анализируются в реальном времени с помощью инструментов мониторинга (например, Prometheus, Grafana, New Relic).
    - Если показатели SLI выходят за пределы SLO, команда получает оповещение.
3. **Управление надежностью**:
    
    - На основе анализа SLI принимаются решения о техническом долге, необходимости оптимизации системы или планировании улучшений.
4. **Оценка выполнения SLA**:
    
    - SLI используются для оценки выполнения **Service Level Agreements (SLA)** — соглашений между провайдером услуг и клиентом.

---

### **Пример SLI в реальной системе**

Предположим, у вас есть веб-приложение, предоставляющее API для пользователей.

#### Основные метрики SLI:

1. **Доступность**:
    
    - _"Доступность API — не менее 99.9% в месяц."_
    - Измеряется как: SLI (доступность)=Время работыОбщее время×100%\text{SLI (доступность)} = \frac{\text{Время работы}}{\text{Общее время}} \times 100\%
2. **Время ответа**:
    
    - _"95% запросов должны обрабатываться за менее чем 300 мс."_
    - Измеряется с помощью метрик времени ответа.
3. **Частота ошибок**:
    
    - _"Процент ошибок (HTTP 5xx) — не более 0.1%."_
    - Измеряется как: SLI (ошибки)=Количество запросов с ошибкамиОбщее количество запросов×100%\text{SLI (ошибки)} = \frac{\text{Количество запросов с ошибками}}{\text{Общее количество запросов}} \times 100\%

---

### **Преимущества использования SLI**

1. **Измеримость качества**:
    
    - SLI позволяет количественно оценивать уровень предоставляемой услуги.
2. **Центрирование на пользователях**:
    
    - Метрики SLI фокусируются на реальном опыте и восприятии клиентов.
3. **Раннее обнаружение проблем**:
    
    - Постоянный мониторинг SLI помогает быстро выявлять и устранять проблемы.
4. **Прозрачность**:
    
    - SLI обеспечивают прозрачное понимание того, как сервис работает, как для команды, так и для клиентов.

---

### **Связь SLI, SLO и SLA**

- **SLI (Service Level Indicator)**:
    
    - Конкретная метрика (например, доступность, время ответа).
- **SLO (Service Level Objective)**:
    
    - Целевое значение для SLI (например, _"Доступность должна быть не ниже 99.95%."_).
- **SLA (Service Level Agreement)**:
    
    - Договорное обязательство с клиентом, основанное на SLO. Нарушение SLA может повлечь за собой штрафы или компенсации.

---

### **Заключение**

**SLI** — это фундаментальный элемент измерения производительности и надежности системы. Он помогает командам SRE и DevOps концентрироваться на реальных метриках, которые важны для пользователей, а также улучшать качество услуг. Успешное управление SLI позволяет не только обеспечить высокий уровень удовлетворенности клиентов, но и эффективно реагировать на сбои, снижая риски для бизнеса.