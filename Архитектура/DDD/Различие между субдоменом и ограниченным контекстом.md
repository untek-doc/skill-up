**DDD (Domain-Driven Design)** — это подход к разработке программного обеспечения, который акцентирует внимание на глубоком понимании предметной области (домен) и использует это понимание для проектирования моделей и архитектуры системы. В DDD ключевыми понятиями являются **субдомен** и **ограниченный контекст**. Давайте рассмотрим, что они означают и в чем их различия.

### Субдомен

**Субдомен** — это часть общей предметной области, которая отвечает за определенные функции или задачи. Субдомен разбивает большую предметную область на более мелкие и управляемые части, каждая из которых может иметь свои особенности и требования.

- **Типы субдоменов**:
  - **Ядро (Core)**: основная часть бизнеса, которая дает конкурентные преимущества.
  - **Поддерживающие (Supporting)**: вспомогательные части, которые необходимы для функционирования ядра, но не являются его ключевыми компонентами.
  - **Общие (Generic)**: функции или аспекты, которые могут использоваться в разных доменах, например, платежные системы, авторизация и т.д.

### Ограниченный контекст

**Ограниченный контекст** (Bounded Context) — это явное определение границ модели внутри субдомена. Он определяет, как термины, модели и правила действуют в рамках конкретного контекста, и как они могут отличаться от других контекстов в системе.

- **Ключевые аспекты**:
  - **Изоляция моделей**: в каждом ограниченном контексте можно использовать свои модели, что позволяет избежать путаницы и конфликтов терминологии.
  - **Ясные границы**: ограниченные контексты имеют четко определенные интерфейсы и контракты для взаимодействия с другими контекстами.
  - **Коммуникация**: взаимодействие между ограниченными контекстами обычно осуществляется через контракты (например, API, сообщения) или интеграционные паттерны.

### Различия между субдоменом и ограниченным контекстом

| Характеристика          | Субдомен                                         | Ограниченный контекст                          |
|-------------------------|--------------------------------------------------|------------------------------------------------|
| Определение             | Часть общей предметной области                    | Явные границы модели внутри субдомена         |
| Объем                    | Меньше, чем общая предметная область; может включать несколько ограниченных контекстов | Отдельная модель, конкретная реализация       |
| Применение              | Определяет бизнес-логики и функции                | Определяет, как модели работают и взаимодействуют в пределах контекста |
| Изоляция                | Субдомены могут перекрывать друг друга           | Ограниченные контексты изолированы друг от друга |
| Пример                  | Субдомен "Заказ" может включать "Управление заказами" и "Платежи" | Ограниченный контекст "Управление заказами" с моделью заказа и соответствующими терминами |

### Пример

Предположим, у вас есть система электронной коммерции. В этом случае:

- **Субдомены** могут включать:
  - **Управление заказами**: функции, связанные с созданием, изменением и отслеживанием заказов.
  - **Управление платежами**: функции, связанные с обработкой и учетом платежей.
  
- **Ограниченные контексты** могут быть:
  - **Ограниченный контекст "Управление заказами"**: модель заказа, которая может иметь свои правила и термины, такие как "заказ", "покупка" и т.д.
  - **Ограниченный контекст "Управление платежами"**: модель платежа, которая может иметь свои собственные правила и термины, такие как "транзакция", "возврат" и т.д.

Таким образом, каждый ограниченный контекст изолирован и имеет свои специфические модели, в то время как субдомен определяет более широкий бизнес-контекст и области ответственности.