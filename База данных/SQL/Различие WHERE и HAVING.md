В SQL `WHERE` и `HAVING` — это два ключевых оператора, используемых для фильтрации данных, но они применяются в разных контекстах и имеют различные функции.

### 1. `WHERE`

- **Описание**: Оператор `WHERE` используется для фильтрации строк до выполнения агрегации. Он применяется к строкам в таблице и не может использоваться с агрегатными функциями (такими как `COUNT`, `SUM`, `AVG` и т.д.) в своих условиях.
- **Пример**:

```sql
SELECT *
FROM employees
WHERE department = 'Sales';
```

В этом запросе `WHERE` фильтрует записи так, чтобы выбрать только сотрудников из отдела продаж.

### 2. `HAVING`

- **Описание**: Оператор `HAVING` используется для фильтрации результатов после выполнения агрегации. Он позволяет устанавливать условия для группированных данных и может использовать агрегатные функции в условиях.
- **Пример**:

```sql
SELECT department, COUNT(*) AS num_employees
FROM employees
GROUP BY department
HAVING COUNT(*) > 10;
```

В этом запросе `HAVING` фильтрует группы так, чтобы выбрать только те отделы, в которых количество сотрудников превышает 10.

### Основные различия

| Характеристика          | `WHERE`                            | `HAVING`                          |
|-------------------------|------------------------------------|-----------------------------------|
| Время применения        | Применяется до агрегации           | Применяется после агрегации       |
| Использование агрегатов | Не поддерживает агрегатные функции  | Поддерживает агрегатные функции    |
| Применение              | Фильтрует строки таблицы           | Фильтрует группы данных           |

### Итог

- Используйте `WHERE` для фильтрации строк на уровне таблицы.
- Используйте `HAVING` для фильтрации результатов, когда данные уже агрегированы с помощью `GROUP BY`.